# SlideAutoShot
IPカメラでスライドが表示されている画面などを写し、画面が変わったら自動的に写真を撮るスクリプトです。<br>
difftime秒ごとに画像を取得し、一枚前の画像とのPNSRがPSNR_val以下の場合、画像を保存します。<br>
手ぶれ補正など行なっていないため、揺れることのないカメラに対して使用してください。ある程度揺れる机の場合は、独自アルゴリズムの[main](https://github.com/UnagiDojyou/SlideAutoShot/tree/main)ブランチの方を使用してください。<br>
PNSRは値が小さいほど類似度が低く、大きいほど類似しているものです。<br>

# 使い方
(macの方はpythonではなく、python3を使ってください)<br>
1. カメラの設置
まず初めにカメラ(スマートフォン)の位置をいい感じにします。使うアプリは下に「IPカメラに関して」で書いてあります。<br>
2. PNSRの値の計測
次にPNSRの値を決定するためにサンプルを計測します。<br>
このコマンドで1分間サンプルのPNSRの値を取得します。スライドが切り替わらないタイミングを見計らって計測してください。ctrl+Cで中断もできます。<br>
終了すると平均PNSR値と最低値が出ます。平均値と最低値があまりにも離れている場合はカメラが揺れているため不適切です。<br>
```
python SlideAutoShot.py IPカメラのURL cal
```
3. 実行
最低値から少し小さい値をPSNR_valとして設定します。あとはctrl+Cで終了するまでスライドが切り替わるたびに撮られるはずです。
```
python SlideAutoShot.py IPカメラのURL PSNR_val
```

# IPカメラに関して
Android勢はIP Webcam<br>
↳URLはhttp://IPアドレス:8080/video<br>
画像の位置の調整やズームが簡単にできるのでおすすめです。

ios勢はDroidCam<br>
↳URLはhttp://IPアドレス:4747/video<br>
位置調整やズームが有料なので、無課金では変数をかなり頑張らないとうまく撮れないと思います。
